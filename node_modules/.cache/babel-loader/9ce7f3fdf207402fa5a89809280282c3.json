{"ast":null,"code":"export function subscribeToProviderEvents(provider, onUpdate, onDisconnect) {\n  if (provider === null || provider === void 0 ? void 0 : provider.on) {\n    const onConnectListener = info => {\n      if (info === null || info === void 0 ? void 0 : info.chainId) {\n        onUpdate({\n          chainId: Number(info.chainId)\n        });\n      }\n    };\n\n    provider.on('connect', onConnectListener);\n\n    const onDisconnectListener = error => {\n      onDisconnect(new Error(error));\n    };\n\n    provider.on('disconnect', onDisconnectListener);\n\n    const onChainChangedListener = chainId => {\n      onUpdate({\n        chainId: Number(chainId)\n      });\n    };\n\n    provider.on('chainChanged', onChainChangedListener);\n\n    const onAccountsChangedListener = accounts => {\n      onUpdate({\n        accounts\n      });\n    };\n\n    provider.on('accountsChanged', onAccountsChangedListener);\n    return () => {\n      provider.removeListener('connect', onConnectListener);\n      provider.removeListener('disconnect', onDisconnectListener);\n      provider.removeListener('chainChanged', onChainChangedListener);\n      provider.removeListener('accountsChanged', onAccountsChangedListener);\n    };\n  }\n\n  return () => undefined;\n}","map":{"version":3,"sources":["/home/albert/Downloads/Crowd_funding-app-using-brownie-and-react/front_end/node_modules/@usedapp/core/src/helpers/eip1193.ts"],"names":[],"mappings":"AAGA,OAAM,SAAU,yBAAV,CACJ,QADI,EAEJ,QAFI,EAGJ,YAHI,EAGgC;AAEpC,MAAI,QAAQ,KAAA,IAAR,IAAA,QAAQ,KAAA,KAAA,CAAR,GAAQ,KAAA,CAAR,GAAA,QAAQ,CAAE,EAAd,EAAkB;AAChB,UAAM,iBAAiB,GAAI,IAAD,IAAgD;AACxE,UAAI,IAAI,KAAA,IAAJ,IAAA,IAAI,KAAA,KAAA,CAAJ,GAAI,KAAA,CAAJ,GAAA,IAAI,CAAE,OAAV,EAAmB;AACjB,QAAA,QAAQ,CAAC;AAAE,UAAA,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,OAAN;AAAjB,SAAD,CAAR;AACD;AACF,KAJD;;AAKA,IAAA,QAAQ,CAAC,EAAT,CAAY,SAAZ,EAAuB,iBAAvB;;AAEA,UAAM,oBAAoB,GAAI,KAAD,IAAqB;AAChD,MAAA,YAAY,CAAC,IAAI,KAAJ,CAAU,KAAV,CAAD,CAAZ;AACD,KAFD;;AAGA,IAAA,QAAQ,CAAC,EAAT,CAAY,YAAZ,EAA0B,oBAA1B;;AAEA,UAAM,sBAAsB,GAAI,OAAD,IAA0B;AACvD,MAAA,QAAQ,CAAC;AAAE,QAAA,OAAO,EAAE,MAAM,CAAC,OAAD;AAAjB,OAAD,CAAR;AACD,KAFD;;AAGA,IAAA,QAAQ,CAAC,EAAT,CAAY,cAAZ,EAA4B,sBAA5B;;AAEA,UAAM,yBAAyB,GAAI,QAAD,IAA6B;AAC7D,MAAA,QAAQ,CAAC;AAAE,QAAA;AAAF,OAAD,CAAR;AACD,KAFD;;AAGA,IAAA,QAAQ,CAAC,EAAT,CAAY,iBAAZ,EAA+B,yBAA/B;AAEA,WAAO,MAAK;AACV,MAAA,QAAQ,CAAC,cAAT,CAAwB,SAAxB,EAAmC,iBAAnC;AACA,MAAA,QAAQ,CAAC,cAAT,CAAwB,YAAxB,EAAsC,oBAAtC;AACA,MAAA,QAAQ,CAAC,cAAT,CAAwB,cAAxB,EAAwC,sBAAxC;AACA,MAAA,QAAQ,CAAC,cAAT,CAAwB,iBAAxB,EAA2C,yBAA3C;AACD,KALD;AAMD;;AAED,SAAO,MAAM,SAAb;AACD","sourcesContent":["import { EventEmitter } from 'events'\nimport { Network } from '../providers'\n\nexport function subscribeToProviderEvents(\n  provider: EventEmitter | undefined,\n  onUpdate: (updatedNetwork: Partial<Network>) => void,\n  onDisconnect: (error: Error) => void\n) {\n  if (provider?.on) {\n    const onConnectListener = (info: { chainId: string } | undefined): void => {\n      if (info?.chainId) {\n        onUpdate({ chainId: Number(info.chainId) })\n      }\n    }\n    provider.on('connect', onConnectListener)\n\n    const onDisconnectListener = (error: any): void => {\n      onDisconnect(new Error(error))\n    }\n    provider.on('disconnect', onDisconnectListener)\n\n    const onChainChangedListener = (chainId: string): void => {\n      onUpdate({ chainId: Number(chainId) })\n    }\n    provider.on('chainChanged', onChainChangedListener)\n\n    const onAccountsChangedListener = (accounts: string[]): void => {\n      onUpdate({ accounts })\n    }\n    provider.on('accountsChanged', onAccountsChangedListener)\n\n    return () => {\n      provider.removeListener('connect', onConnectListener)\n      provider.removeListener('disconnect', onDisconnectListener)\n      provider.removeListener('chainChanged', onChainChangedListener)\n      provider.removeListener('accountsChanged', onAccountsChangedListener)\n    }\n  }\n\n  return () => undefined\n}\n"]},"metadata":{},"sourceType":"module"}